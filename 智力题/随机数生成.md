## 给定生成1到5的随机数Rand5()，如何得到生成1到7的随机数函数Rand7() ?

### 关键原理：

1. **扩展范围**：`Rand5()`的输出是 1-5（均匀分布），通过组合两次`Rand5()`的结果，可生成更大的均匀分布范围。
2. **拒绝无效值**：新范围中超出 “7 的倍数” 的部分需重新生成，确保剩余值能均匀映射到 1-7。

### 具体实现步骤：

1. **生成 1-25 的均匀随机数**： 调用`Rand5()`生成两个数`a`和`b`（均为 1-5），构造新数：\(x = (a - 1) \times 5 + b\) 解释：`a-1`的范围是 0-4，乘以 5 后得到 0、5、10、15、20；加上`b`（1-5）后，`x`的范围是 1-25，且每个数的概率均为\(\frac{1}{5} \times \frac{1}{5} = \frac{1}{25}\)（均匀分布）。
2. **筛选有效范围**： 由于 7×3=21，取`x`的有效范围为 1-21（21 是 7 的倍数，可均匀映射到 1-7）。若`x > 21`（即 22-25），则重复步骤 1 重新生成`x`（拒绝无效值，确保均匀性）。
3. **映射到 1-7**： 当`x ≤ 21`时，计算`x % 7`：
    - 若结果为 0，返回 7；
    - 否则返回余数（1-6）。

### 代码示意：

python











```python
def Rand5():
    # 假设已实现，返回1-5的均匀随机数
    import random
    return random.randint(1, 5)

def Rand7():
    while True:
        a = Rand5()
        b = Rand5()
        x = (a - 1) * 5 + b  # 生成1-25的均匀数
        if x <= 21:  # 取1-21，确保能均匀映射到1-7
            return 7 if x % 7 == 0 else x % 7
```










### 均匀性验证：

- 1-21 中每个`x`的概率为\(\frac{1}{25}\)，且 21 是 7 的倍数（21=7×3）。
- 1-7 中的每个数对应 3 个`x`（如 1 对应 x=1,8,15；7 对应 x=7,14,21），因此每个数的最终概率为\(3 \times \frac{1}{25} = \frac{3}{25}\)，且通过 “拒绝无效值” 保证了概率均匀性。

**结论**：通过上述方法，`Rand7()`可生成 1-7 的均匀随机数。