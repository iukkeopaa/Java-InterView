## 死锁

这里说的死锁没有明确的场景，所以包括Java中的死锁和Mysql中的死锁



## 查看Mysql中的死锁

1. SHOW VARIABLES LIKE 'log_error'; 有死锁会出现InnoDB: Deadlock detected 这样的标识
2.  SHOW ENGINE INNODB STATUS\G;有死锁的情况下会出现LATEST DETECTED DEADLOCK 
3. Performance Schema 监控死锁；SHOW VARIABLES LIKE 'performance_schema';

**注意：**

如果值为 OFF ，可以在 MySQL 配置文件（如 my.cnf 或 my.ini ）中添加或修改 performance_schema = ON ，然后重启 MySQL 服务。

Performance Schema 中的 data_locks 和 data_lock_waits 表可以帮助获取死锁相关信息。data_locks 表记录了当前持有和等待的锁，data_lock_waits 表记录了锁等待的情况。通过查询和分析这两个表，可以找出导致死锁的事务和锁资源。

```mysql
SELECT * FROM performance_schema.data_lock_waits;
```